{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import NoteEditor from'./NoteEditor';import ShareNote from'./ShareNote';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotesList=()=>{const[notes,setNotes]=useState([]);const[selectedNote,setSelectedNote]=useState(null);const[showShare,setShowShare]=useState(false);const[shareNoteId,setShareNoteId]=useState(null);useEffect(()=>{fetchNotes();},[]);const fetchNotes=async()=>{try{const response=await api.get('/notes');setNotes(response.data);}catch(err){console.error('Failed to fetch notes');}};const handleCreate=()=>{setSelectedNote({title:'',content:''});};const handleSave=async note=>{try{if(note.id){await api.put(\"/notes/\".concat(note.id),note);}else{await api.post('/notes',note);}fetchNotes();setSelectedNote(null);}catch(err){console.error('Failed to save note');}};const handleDelete=async id=>{try{await api.delete(\"/notes/\".concat(id));fetchNotes();}catch(err){console.error('Failed to delete note');}};const handleShare=id=>{setShareNoteId(id);setShowShare(true);};const handleShareSubmit=async email=>{try{await api.post(\"/notes/\".concat(shareNoteId,\"/share\"),{sharedWithEmail:email});setShowShare(false);alert('Note shared successfully!');}catch(err){alert('Failed to share note');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold\",children:\"My Notes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",children:\"Create Note\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\",children:notes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:note.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[note.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedNote(note),className:\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(note.id),className:\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShare(note.id),className:\"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600\",children:\"Share\"})]})]},note.id))}),selectedNote&&/*#__PURE__*/_jsx(NoteEditor,{note:selectedNote,onSave:handleSave,onClose:()=>setSelectedNote(null)}),showShare&&/*#__PURE__*/_jsx(ShareNote,{onSubmit:handleShareSubmit,onClose:()=>setShowShare(false)})]});};export default NotesList;","map":{"version":3,"names":["React","useState","useEffect","api","NoteEditor","ShareNote","jsx","_jsx","jsxs","_jsxs","NotesList","notes","setNotes","selectedNote","setSelectedNote","showShare","setShowShare","shareNoteId","setShareNoteId","fetchNotes","response","get","data","err","console","error","handleCreate","title","content","handleSave","note","id","put","concat","post","handleDelete","delete","handleShare","handleShareSubmit","email","sharedWithEmail","alert","children","className","onClick","map","substring","onSave","onClose","onSubmit"],"sources":["/home/arif/project/test/notes-app-project/frontend/src/components/NotesList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport NoteEditor from './NoteEditor';\nimport ShareNote from './ShareNote';\n\nconst NotesList = () => {\n  const [notes, setNotes] = useState([]);\n  const [selectedNote, setSelectedNote] = useState(null);\n  const [showShare, setShowShare] = useState(false);\n  const [shareNoteId, setShareNoteId] = useState(null);\n\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const fetchNotes = async () => {\n    try {\n      const response = await api.get('/notes');\n      setNotes(response.data);\n    } catch (err) {\n      console.error('Failed to fetch notes');\n    }\n  };\n\n  const handleCreate = () => {\n    setSelectedNote({ title: '', content: '' });\n  };\n\n  const handleSave = async (note) => {\n    try {\n      if (note.id) {\n        await api.put(`/notes/${note.id}`, note);\n      } else {\n        await api.post('/notes', note);\n      }\n      fetchNotes();\n      setSelectedNote(null);\n    } catch (err) {\n      console.error('Failed to save note');\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await api.delete(`/notes/${id}`);\n      fetchNotes();\n    } catch (err) {\n      console.error('Failed to delete note');\n    }\n  };\n\n  const handleShare = (id) => {\n    setShareNoteId(id);\n    setShowShare(true);\n  };\n\n  const handleShareSubmit = async (email) => {\n    try {\n      await api.post(`/notes/${shareNoteId}/share`, { sharedWithEmail: email });\n      setShowShare(false);\n      alert('Note shared successfully!');\n    } catch (err) {\n      alert('Failed to share note');\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold\">My Notes</h2>\n        <button\n          onClick={handleCreate}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\n        >\n          Create Note\n        </button>\n      </div>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {notes.map((note) => (\n          <div key={note.id} className=\"bg-white p-4 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-2\">{note.title}</h3>\n            <p className=\"text-gray-600 mb-4\">{note.content.substring(0, 100)}...</p>\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => setSelectedNote(note)}\n                className=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600\"\n              >\n                Edit\n              </button>\n              <button\n                onClick={() => handleDelete(note.id)}\n                className=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\"\n              >\n                Delete\n              </button>\n              <button\n                onClick={() => handleShare(note.id)}\n                className=\"bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600\"\n              >\n                Share\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n      {selectedNote && (\n        <NoteEditor note={selectedNote} onSave={handleSave} onClose={() => setSelectedNote(null)} />\n      )}\n      {showShare && (\n        <ShareNote onSubmit={handleShareSubmit} onClose={() => setShowShare(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default NotesList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}